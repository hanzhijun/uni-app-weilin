{"version":3,"sources":["webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?6641","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?538a","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?91e2","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?be02","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?fb2e","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?f9f8"],"names":["util","require","getCookie","setCookie","setStorage","getStorage","myAjax","myAjax2","backgroundAudioManager","wx","getBackgroundAudioManager","data","title","userInfo","deviceNos","accessToken","breath","deviceStatus","heart","markTime","motion","timer","toast","toastTxt","loading","warning","warningText","leaveTime","onLoad","onLaunch","console","log","onShow","uni","redirectTo","url","getActual","setSocketTask","_this","setInterval","onHide","methods","obj","res","retCode","successData","time","Date","parse","epname","singer","coverImgUrl","src","onEnded","reg","JSON","stringify","audioPause","pause","linkRecord","navigateTo","linkSetting","deviceNo","connectSocket","sluccess","fail","onSocketOpen","msgType","token","sendSocketMessage","onSocketMessage","onSocketError"],"mappings":"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","file":"pages/detail/index.js","sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8e291cc2&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\软件备份\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('8e291cc2', component.options)\n    } else {\n      api.reload('8e291cc2', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=8e291cc2&\", function () {\n      api.rerender('8e291cc2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"work/uni-app-weilin/pages/detail/index.vue\"\nexport default component.exports","import mod from \"-!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=8e291cc2&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar util = require('../../common/util.js')\nvar getCookie = util.getCookie\nvar setCookie = util.setCookie\nvar setStorage = util.setStorage\nvar getStorage = util.getStorage\nvar myAjax = util.myAjax\nvar myAjax2 = util.myAjax2\nvar backgroundAudioManager = wx.getBackgroundAudioManager()\nexport default {\n    data() {\n        return {\n            title: '微麟守护者',\n            userInfo: null,\n            deviceNos: '641743000773', // 设备号\n            accessToken: null,\n            breath: '--', // 呼吸值 -100_无效值，其他为正常值\n            deviceStatus: null, // 设备状态 3_离床，4_在床，5_光纤故障，6_离线，9_传感器负荷，10_信号弱\n            heart: '--', // 心率值 65436_无效值，其他为正常值\n            markTime: null, // 发生的时间戳\n            motion: null, // 体动值 0_正常，3_轻微体动，4_中度体动，5_大幅体动，-100_无效值\n            timer: null,\n            toast: 0,\n            toastTxt: '',\n            loading: 0,\n            warning: 0,\n            warningText: '',\n            leaveTime: null\n        }\n    },\n    onLoad() {\n\n    },\n    onLaunch: function() {\n        console.log('App Launch-detail')\n    },\n    onShow: function() {\n        let accessToken = getCookie('accessToken')\n        let userInfo = getCookie('username')\n        if (!accessToken) {\n            uni.redirectTo({\n                url: '../login/index'\n            })\n        } else {\n            this.userInfo = userInfo\n            this.accessToken = accessToken\n            this.getActual()\n            this.setSocketTask()\n            let _this = this\n            this.timer = setInterval(function() {\n                _this.getActual()\n            }, 10000)\n\n        }\n    },\n    onHide: function() {\n        console.log('App Hide-detail')\n    },\n    methods: {\n        /**\n         * 03. 获取设备当前的状态/⼼率/呼吸/体动数据\n         */\n        getActual() {\n            let obj = {\n                deviceNos: this.deviceNos\n            }\n            let _this = this;\n            myAjax2('post', '/device/physiology/actual', obj, function(res) {\n                if (res.retCode == '10000') {\n                    if (res.successData[0].deviceStatus == 3 && _this.leaveTime) {\n                        let time = Date.parse(new Date())\n                        if (time - _this.leaveTime > 12000 && _this.warning == 0) {\n                            console.log(time - _this.leaveTime)\n                            _this.warningText = '离床报警已触发'\n                            _this.warning = 1\n                            // _this.audioCtx = uni.createAudioContext('myAudio')\n                            // _this.audioCtx.setSrc('http://www.hanjiaxin.cn/images/warning.mp3')\n                            // _this.audioCtx.play()\n                            backgroundAudioManager.title = '报警'\n                            backgroundAudioManager.epname = '报警'\n                            backgroundAudioManager.singer = '报警'\n                            backgroundAudioManager.coverImgUrl = ''\n                            // 设置了 src 之后会自动播放\n                            backgroundAudioManager.src = 'http://www.hanjiaxin.cn/images/warning.mp3'\n                            backgroundAudioManager.onEnded(() => {\n                                backgroundAudioManager.src = 'http://www.hanjiaxin.cn/images/warning.mp3?time=' + Date.parse(new Date())\n                            })\n                        }\n                    }\n                    _this.breath = res.successData[0].breath\n                    _this.deviceStatus = res.successData[0].deviceStatus\n                    _this.heart = res.successData[0].heart\n                    _this.markTime = res.successData[0].markTime\n                    _this.motion = res.successData[0].motion\n                } else {\n                    console.log('未知错误，请重新登录')\n                    setCookie('accessToken', '')\n                    setCookie('username', '')\n                    uni.redirectTo({\n                        url: '../login/index'\n                    })\n\n                }\n            }, function(reg) {\n                console.log(JSON.stringify(reg))\n            })\n        },\n        /**\n         * 关闭报警\n         */\n        audioPause: function() {\n            // this.audioCtx.pause()\n            backgroundAudioManager.pause()\n            this.leaveTime = null,\n                this.warning = 0\n\n        },\n        linkRecord: function() {\n            uni.navigateTo({\n                url: '../record/index'\n            })\n        },\n        linkSetting: function() {\n            uni.navigateTo({\n                url: '../setting/index'\n            })\n        },\n        setSocketTask() {\n            let accessToken = util.getCookie('accessToken')\n            let deviceNo = this.deviceNos\n            let _this = this\n            // 建立连接\n            console.log('建立连接!');\n            wx.connectSocket({\n                url: \"ws://stream.darma.cn:17004/ws\",\n                sluccess() {\n                    console.log('连接成功...')\n                },\n                fail() {\n                    console.log('连接失败...')\n                }\n            });\n            // 连接成功\n            wx.onSocketOpen(function() {\n                console.log('连接成功!')\n                let obj = {\n                    // 消息类型msgType⽬前有 login（登录消息），deviceStatus（设备状态消息）healthData（⼼率呼吸数据消息），paramError（参数错误消息）\n                    msgType: 'login',\n                    data: {\n                        token: accessToken,\n                        // 订阅类型subType有“ALL”,“SINGLETON”(区分⼤⼩写)\n                        // subType: 'SINGLETON', /*订阅所有的设备*/\n                        deviceNo: _this.deviceNos\n                    }\n                };\n                wx.sendSocketMessage({\n                    data: JSON.stringify(obj)\n                })\n            });\n            // 接收数据\n            wx.onSocketMessage(function(data) {\n                // heartBreathBcg、healthBreathData、deviceStatus\n                if (JSON.parse(data.data).msgType == 'healthBreathData' || JSON.parse(data.data).msgType ==\n                    'deviceStatus') {\n                    console.log(data.data)\n                    // uni.showToast({\n                    //     title: data.data,\n                    //     duration: 1000\n                    // })\n                }\n                // 当状态发生变化会初始化时，会推送此条数据\n                if (JSON.parse(data.data).msgType == 'deviceStatus') {\n                    if (JSON.parse(data.data).data.deviceStatus == '3') {\n                        console.log('离床已记录，以此时间为基准开始计算报警数据')\n                        _this.leaveTime = Date.parse(new Date())\n                    } else {\n                        _this.leaveTime = null\n                        console.log('解除离床报警计算数据')\n                    }\n                }\n\n            });\n            //连接失败\n            wx.onSocketError(function() {\n                console.log('websocket连接失败！')\n            })\n        }\n    }\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}
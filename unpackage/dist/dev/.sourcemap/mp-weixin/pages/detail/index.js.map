{"version":3,"sources":["webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?6641","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?538a","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?91e2","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?be02","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?fb2e","webpack:///D:/work/uni-app-weilin/pages/detail/index.vue?f9f8"],"names":["util","require","warnRuleData","warnStateData","setCookie","getCookie","myAjax2","getWarnCookie","changeWarnToThis","data","title","showToast","toastTxt","loading","confirm","userInfo","deviceNos","accessToken","breathNum","deviceStatus","heartNum","markTime","motionNum","timer","device","deviceTimes","deviceStart","deviceEnd","heart","heartUp","heartDown","breath","breathUp","breathDown","motion","motionTimes","motionStart","motionEnd","warnNing","warningText","warnNo","warnDeviceTime","warnHeartTime","warnBreathTime","warnMotionTime","firstTimes","motionState","motionTimer","onLoad","_this","uni","redirectTo","url","getActual","setSocketTask","setInterval","onLaunch","onShow","onHide","onUnload","methods","obj","res","retCode","checkWarn","successData","console","log","reg","linkRecord","navigateTo","linkSetting","type","wx","closeSocket","connectSocket","sluccess","fail","onSocketOpen","msgType","token","deviceNo","sendSocketMessage","JSON","stringify","onSocketMessage","parse","Date","onSocketError","onSocketClose","audioPause","openConfirmBox1","openConfirmBox2","openConfirmBox3","closeConfirmBox","loginOut1","clearInterval","loginOut2"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;AACa;;;AAGjE;AACkI;AAClI,gBAAgB,wIAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAA6e,CAAgB,ofAAG,EAAC,C;;;;;;;;;;;;ACAjgB;AAAA;AAAA;AAAA;AAAiuB,CAAgB,isBAAG,EAAC,C;;;;;;;;;;;;ACArvB;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;mICAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,IAAI,GAAGC,mBAAO,CAAC,4EAAD,CAAlB;;AAEA,IAAIC,YAAY,GAAGF,IAAI,CAACE,YAAxB;AACA,IAAIC,aAAa,GAAGH,IAAI,CAACG,aAAzB;AACA,IAAIC,SAAS,GAAGJ,IAAI,CAACI,SAArB;AACA,IAAIC,SAAS,GAAGL,IAAI,CAACK,SAArB;AACA,IAAIC,OAAO,GAAGN,IAAI,CAACM,OAAnB;AACA,IAAIC,aAAa,GAAGP,IAAI,CA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","file":"pages/detail/index.js","sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8e291cc2&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\软件备份\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('8e291cc2', component.options)\n    } else {\n      api.reload('8e291cc2', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=8e291cc2&\", function () {\n      api.rerender('8e291cc2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"work/uni-app-weilin/pages/detail/index.vue\"\nexport default component.exports","import mod from \"-!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../软件备份/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=8e291cc2&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nlet util = require('../../common/util.js')\r\n\r\nlet warnRuleData = util.warnRuleData\r\nlet warnStateData = util.warnStateData\r\nlet setCookie = util.setCookie\r\nlet getCookie = util.getCookie\r\nlet myAjax2 = util.myAjax2\r\nlet getWarnCookie = util.getWarnCookie\r\nlet changeWarnToThis = util.changeWarnToThis\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            title: 'Smater 守护',\r\n\r\n            showToast: 0,\r\n            toastTxt: '',\r\n            loading: 0,\r\n            confirm: 0,\r\n\r\n            userInfo: null,\r\n            deviceNos: '', // 设备号\r\n            accessToken: null,\r\n\r\n            breathNum: '--', // 呼吸值 -100_无效值，其他为正常值\r\n            deviceStatus: null, // 设备状态 3_离床，4_在床，5_光纤故障，6_离线，9_传感器负荷，10_信号弱\r\n            heartNum: '--', // 心率值 65436_无效值，其他为正常值\r\n            markTime: null, // 发生的时间戳\r\n            motionNum: null, // 体动值 0_正常，3_轻微体动，4_中度体动，5_大幅体动，-100_无效值\r\n            timer: null,\r\n\r\n            device: '', // 是否监控离床\r\n            deviceTimes: '', // 离床持续时间\r\n            deviceStart: '', // 监控时段开始\r\n            deviceEnd: '', // 监控时段结束\r\n            heart: '', // 是否监控心率\r\n            heartUp: '', // 心率过快峰值\r\n            heartDown: '', // 心率过慢峰值\r\n            breath: '', // 是否监控呼吸率\r\n            breathUp: '', // 呼吸过快峰值\r\n            breathDown: '', // 呼吸过慢峰值\r\n            motion: '', // 是否监控体动值\r\n            motionTimes: '', // 大幅体动持续时间\r\n            motionStart: '', // 体动监控时段开始\r\n            motionEnd: '', // 体动监控时段结束\r\n\r\n            warnNing: 0,\r\n            warningText: '',\r\n            warnNo: '',\r\n            warnDeviceTime: '',\r\n            warnHeartTime: '',\r\n            warnBreathTime: '',\r\n            warnMotionTime: '',\r\n\r\n            firstTimes: 0,\r\n            motionState: false,\r\n            motionTimer: null\r\n        }\r\n    },\r\n    onLoad() {\r\n        let _this = this\r\n        let accessToken = getCookie('accessToken')\r\n        let deviceNos = getCookie('deviceNos')\r\n        let userInfo = getCookie('username')\r\n        if (!accessToken) {\r\n            uni.redirectTo({\r\n                url: '../login/index'\r\n            })\r\n        } else if (!deviceNos) {\r\n            uni.redirectTo({\r\n                url: '../code/index'\r\n            })\r\n        } else {\r\n            changeWarnToThis(_this)\r\n            getWarnCookie(_this)\r\n            _this.userInfo = userInfo\r\n            _this.accessToken = accessToken\r\n            _this.deviceNos = deviceNos\r\n            _this.getActual()\r\n            _this.setSocketTask()\r\n            _this.timer = setInterval(function() {\r\n                _this.getActual()\r\n            }, 5000)\r\n            _this.motionTimer = setInterval(function() {\r\n                _this.motionState = !_this.motionState\r\n            }, 1000)\r\n        }\r\n    },\r\n    onLaunch() {},\r\n    onShow() {\r\n        changeWarnToThis(this)\r\n    },\r\n    onHide() {},\r\n    onUnload() {},\r\n    methods: {\r\n        /**\r\n         * 03. 获取设备当前的状态/心率/呼吸/体动数据\r\n         */\r\n        getActual() {\r\n            let obj = {\r\n                deviceNos: this.deviceNos\r\n            }\r\n            let _this = this\r\n            myAjax2(\r\n                'post',\r\n                '/device/physiology/actual',\r\n                obj,\r\n                function(res) {\r\n                    if (res.retCode == '10000') {\r\n                        util.checkWarn(_this, res)\r\n                        _this.breathNum = res.successData[0].breath\r\n                        _this.deviceStatus = res.successData[0].deviceStatus\r\n                        _this.heartNum = res.successData[0].heart\r\n                        _this.markTime = res.successData[0].markTime\r\n                        _this.motionNum = res.successData[0].motion\r\n                        // console.log('体动值为' + _this.motionNum)\r\n                        console.log('一次数据获取'+warnStateData.warnDeviceTime)\r\n                    } else {\r\n                        // console.log('未知错误，请重新登录')\r\n                        setCookie('accessToken', '')\r\n                        setCookie('username', '')\r\n                        uni.redirectTo({\r\n                            url: '../login/index'\r\n                        })\r\n                    }\r\n                },\r\n                function(reg) {\r\n                    // console.log(JSON.stringify(reg))\r\n                }\r\n            )\r\n        },\r\n        linkRecord() {\r\n            uni.navigateTo({\r\n                url: '../record/index'\r\n            })\r\n        },\r\n        linkSetting() {\r\n            uni.navigateTo({\r\n                url: '../setting/index'\r\n            })\r\n        },\r\n        /**\r\n         * 时时数据推送\r\n         */\r\n        setSocketTask(type) {\r\n            if (type == 'close') {\r\n                wx.closeSocket()\r\n                return\r\n            }\r\n            let accessToken = util.getCookie('accessToken')\r\n            let _this = this\r\n            // 建立连接\r\n            console.log('建立连接!')\r\n            wx.connectSocket({\r\n                url: 'ws://stream.darma.cn:17004/ws',\r\n                sluccess() {\r\n                    console.log('连接成功...')\r\n                },\r\n                fail() {\r\n                    console.log('连接失败...')\r\n                }\r\n            })\r\n            // 连接成功\r\n            wx.onSocketOpen(function() {\r\n                console.log('连接成功!')\r\n                let obj = {\r\n                    // 消息类型msgType前有 login（登录消息），deviceStatus（设备状态消息）healthData（心率呼吸数据消息），paramError（参数错误消息）\r\n                    msgType: 'login',\r\n                    data: {\r\n                        token: accessToken,\r\n                        // 订阅类型subType有“ALL”,“SINGLETON”(区分大小写)\r\n                        // subType: 'SINGLETON', /*订阅所有的设备*/\r\n                        deviceNo: _this.deviceNos\r\n                    }\r\n                }\r\n                wx.sendSocketMessage({\r\n                    data: JSON.stringify(obj)\r\n                })\r\n            })\r\n            // 接收数据\r\n            wx.onSocketMessage(function(data) {\r\n                // 设备状态 3_离床，4_在床，5_光纤故障，6_离线，9_传感器负荷，10_信号弱\r\n                let msgType = JSON.parse(data.data).msgType\r\n                // console.log('接收推送数据回执' + '***' + JSON.parse(data.data).msgType + '***' + Date.parse(new Date()))\r\n                // if (msgType == 'healthBreathData') {\r\n                //     console.log('heart=' + JSON.parse(data.data).data.heart + '***breath=' + JSON.parse(data.data).data.breath + '***motion=' + JSON.parse(data.data).data.motion)\r\n                // }\r\n                if (msgType == 'deviceStatus') {\r\n                    // 状态发生变化时推送此类信息\r\n                    console.log(data.data)\r\n                    let deviceStatus = JSON.parse(data.data).data.deviceStatus\r\n                    if (deviceStatus == '3') {\r\n                        // 离床\r\n                        warnStateData.warnHeartTime = null\r\n                        warnStateData.warnBreathTime = null\r\n                        warnStateData.warnMotionTime = null\r\n                        _this.warnHeartTime = null\r\n                        _this.warnBreathTime = null\r\n                        _this.warnMotionTime = null\r\n                        if (warnRuleData.device) {\r\n                            console.log('离床已记录，以此时间为基准开始计算报警数据')\r\n                            warnStateData.warnDeviceTime = Date.parse(new Date())\r\n                            console.log(warnStateData.warnDeviceTime)\r\n                            _this.warnDeviceTime = warnStateData.warnDeviceTime\r\n                        }\r\n                    } else if (deviceStatus == '4') {\r\n                        // 在床\r\n                        warnStateData.warnDeviceTime = null\r\n                        _this.warnDeviceTime = null\r\n                        console.log('解除离床报警计算数据')\r\n                    } else if (deviceStatus == '5' || deviceStatus == '6') {\r\n                        warnStateData.warnDeviceTime = null\r\n                        warnStateData.warnHeartTime = null\r\n                        warnStateData.warnBreathTime = null\r\n                        warnStateData.warnMotionTime = null\r\n                        _this.warnDeviceTime = null\r\n                        _this.warnHeartTime = null\r\n                        _this.warnBreathTime = null\r\n                        _this.warnMotionTime = null\r\n                    }\r\n                }\r\n            })\r\n            //连接失败\r\n            wx.onSocketError(function() {\r\n                console.log('websocket连接失败！')\r\n            })\r\n            wx.onSocketClose(function (res) {\r\n                console.log('WebSocket 已关闭！')\r\n            })\r\n        },\r\n        /**\r\n         * 关闭报警\r\n         */\r\n        audioPause() {\r\n            util.audioPause(this)\r\n        },\r\n        openConfirmBox1() {\r\n            this.confirm = 1\r\n        },\r\n        openConfirmBox2() {\r\n            this.confirm = 2\r\n        },\r\n        openConfirmBox3() {\r\n            this.confirm = 3\r\n        },\r\n        closeConfirmBox() {\r\n            this.confirm = 0\r\n        },\r\n        loginOut1() {\r\n            // 停止Socket推送\r\n            this.setSocketTask('close')\r\n            setCookie('accessToken', '')\r\n            setCookie('username', '')\r\n            setCookie('deviceNos', '')\r\n            setCookie('warnRule', '')\r\n            this.confirm = 0\r\n            clearInterval(this.timer)\r\n            uni.redirectTo({\r\n                url: '../login/index'\r\n            })\r\n        },\r\n        loginOut2() {\r\n            // 停止Socket推送\r\n            this.setSocketTask('close')\r\n            setCookie('deviceNos', '')\r\n            this.confirm = 0\r\n            clearInterval(this.timer)\r\n            uni.redirectTo({\r\n                url: '../code/index'\r\n            })\r\n        }\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}